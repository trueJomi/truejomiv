---
import "../styles/global.css";
import { ClientRouter } from "astro:transitions";
import SEO from "@/components/SEO/SEO.astro";
import { seoConfig } from "@/const/seo";

interface Props {
  class?: string;
  title?: string;
  description?: string;
  image?: string;
  keywords?: string[];
  type?: 'website' | 'article' | 'profile';
  noindex?: boolean;
  locale?: string;
}

const { 
  class: className,
  title = seoConfig.defaultTitle,
  description = seoConfig.defaultDescription,
  image = seoConfig.defaultImage,
  keywords = seoConfig.defaultKeywords,
  type = 'website',
  noindex = false,
  locale = 'es-PE'
} = Astro.props;
---

<!doctype html>
<html lang={locale.split('-')[0]}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    
    <SEO 
      title={title}
      description={description}
      image={image}
      keywords={keywords}
      type={type}
      noindex={noindex}
      locale={locale}
      alternateLocales={[
        ...(locale === 'es-PE' ? [{ locale: "en-US", url: `${seoConfig.siteUrl}/en` }] : []),
        ...(locale === 'en-US' ? [{ locale: "es-PE", url: seoConfig.siteUrl }] : [])
      ]}
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Teko:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <ClientRouter />
  </head>
  <body class:list={[className, "relative dark:bg-main-400"]}>
    <slot />
  </body>
</html>
