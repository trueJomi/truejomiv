---
import LandingSecction from "../../utils/LandingSecction.astro";
import Title from "../../utils/Title.astro";
import CardProyect from "./CardProyect.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import type { Project, ProjectHighlight, ProjectTechnology, Skill } from "@prisma/client";

interface ExtendedProject extends Project {
  technologies: ProjectTechnology[]
  highlights: ProjectHighlight[]
}

interface Props {
    porfolio: ExtendedProject[]
    skills: Skill[]
}

const { porfolio, skills } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang)
---

<LandingSecction id="projects" class=" font-roboto-mono text-main-0">
  <Title >
    {t("projects.title")}
  </Title>
  <ul class="grid lg:grid-cols-2 gap-5 md:gap-3  justify-center xl:grid-cols-3" >
    {porfolio.map((project) => (
      <li class="w-full">
          <CardProyect data={project} skills={skills} />
      </li>
    ))}
  </ul>
</LandingSecction>